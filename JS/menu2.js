window.onload=function(){fetch("JS/data_local.json").then((e=>e.json())).then((e=>function(e){let t,c,n,i,l=location.hash.substr(1),a="",s=9;const o=document.querySelector(".items_1_1 > ul"),d=document.querySelectorAll(".header .menu_local li"),r=document.querySelectorAll(".menu_div ul:first-child li"),u=document.querySelectorAll(".menu_div ul:last-child li"),h=document.querySelector(".more a");let f=[],m="전체";function v(){l=location.hash.substr(1);let d=[];a="",e[l].forEach((function(e,l){if(m==e.cate||"전체"==m){switch(t=e.name,c=e.cate,n=e.pic,c){case"관광":i="#CF9915";break;case"체험":i="#003F4F";break;case"음식":i="#82230D"}d.push(`<li>\n                                    <a href="https://tourdure.mcst.go.kr/home/homeIndex.do">\n                                        <figure>\n                                            <img src="${n}" alt="${t}">\n                                            <figcaption>${t}</figcaption>\n                                        </figure>\n                                        <p style="background: ${i}">${c}</p>\n                                    </a>\n                                </li>`)}})),d.forEach((function(e,t){t<s&&(a+=e)})),o.innerHTML=a}v(),h.addEventListener("click",(function(e){e.preventDefault(),s+=9,v()}));for(let e=0;e<r.length;e++)r[e].children[0].href.match(l)&&(r[e].children[0].classList.add("active"),d[e].children[0].classList.add("active"),console.log(d[e].children[0]),window.matchMedia("(max-width: 1023px)").matches&&($(r).css("display","none"),r[e].style="display : block")),r[e].addEventListener("click",(function(e){window.matchMedia("(min-width: 1024px)").matches&&(location.href=e.target.href,location.reload())}));document.querySelectorAll(".items_1_1 > ul >li"),document.querySelectorAll(".items_1_1 > ul >li p");for(let e=0;e<u.length;e++)u[e].addEventListener("click",(function(t){f=[],s=9,t.preventDefault(),$(u).find("a").removeClass("active"),$(this).find("a").addClass("active"),m=u[e].textContent,v()}));const p=document.querySelector(".select_main"),y=document.querySelector(".select_sub");for(let e=0;e<r.length;e++)r[e].addEventListener("click",(function(e){window.matchMedia("(max-width: 1023px)").matches&&(e.preventDefault(),p.classList.add("active"))})),p.children[e].addEventListener("click",(function(t){t.preventDefault(),window.matchMedia("(max-width: 1023px)").matches&&(s=9,$(r).css("display","none"),$(r).find("a").removeClass("active"),r[e].children[0].classList.add("active"),r[e].style="display:block",p.classList.remove("active"),$(u).css("display","none"),$(u).find("a").removeClass("active"),u[0].children[0].classList.add("active"),u[0].style="display:block",m="전체",location.href=t.target.href,v())}));for(let e=0;e<u.length;e++)u[e].addEventListener("click",(function(e){e.preventDefault(),y.classList.add("active")})),y.children[e].addEventListener("click",(function(t){t.preventDefault(),$(u).css("display","none"),$(u).find("a").removeClass("active"),u[e].children[0].classList.add("active"),u[e].style="display:block",y.classList.remove("active"),m=y.children[e].textContent,v()}))}(e)))};