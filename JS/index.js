window.addEventListener("DOMContentLoaded",(function(){$.ajax({url:"./JS/data_visual.xml",success:function(e){let t,i,n=0;function a(){i=setInterval(o,2e3,"next")}function o(i){$(".visual figure").eq(n).fadeOut(),function(i){t=$(e).find("source"),"next"==i?n==t.length-1?n=0:n++:"prev"==i?n<0?n=3:n--:n=i,$(".visual .slide > a").removeClass("active"),$(".visual .slide > a").eq(n).addClass("active")}(i),$(".visual figure").eq(n).fadeIn()}$(e).find("source").each((function(e){$(".visual .photo").append(`<figure><img src="${$(this).text()}"></figure>`),$(".slide").append(`<a href="#"><span>${e+1}</span></a>`)})),$(".visual .photo figure:first").addClass("active"),$(".slide a:first").addClass("active"),a(),$(".visual").on({mouseenter:function(){clearInterval(i)},mouseleave:function(){a()}}),$(".visual .indi >a").on("click",(function(e){e.preventDefault(),1==$(this).index()?o("next"):o("prev")})),$(".visual .slide > a").on("click",(function(e){e.preventDefault(),o($(this).index())}))},error:function(e){console.log(e.status),console.log(e.error),console.log(e.responseText)}}),$.ajax({url:"./JS/data_map.xml",success:function(e){let t,i,n,a,o,l,s,c="",d="",r="",f=0,u=["#56ade2","#e5a49e","#69c071","#fdce4a","#bc95c4","#44c2bc"];p(0),$(".map >svg >g>g").eq(0).addClass("active"),$(".map >svg >g>g").on("click",(function(e){$(".local .map_info").html(""),c="",f=$(this).index(),p(f)}));for(let i=0;i<$(e).find("local").length;i++)t=$(e).find("local").eq(i).find("tit").text(),l=u[i],r+=`<li style="background: ${l} ; border:1px solid grey">  \n                                <a href="#">${t}</a>\n                                </li>`;function p(l){t=$(e).find("local").eq(l).find("tit").text(),i=$(e).find("local").eq(l).find("detail").eq(0).text(),n=$(e).find("local").eq(l).find("detail").eq(1).text(),$(".map >svg >g>g").removeClass("active");for(let t=0;t<$(e).find("local").eq(l).find("pic").length;t++)a=$(e).find("local").eq(l).find("pic").eq(t).text(),o=$(e).find("local").eq(l).find("cap").eq(t).text(),c+=`<a href="https://www.gangwon.to/gwtour">\n                                <figure>\n                                    <img src="${a}" alt="${o}">\n                                    <figcaption>${o}</figcaption>\n                                </figure>\n                            </a>`;d=`<p>${t}</p>\n                <p>${i} <br>${n}</p>\n                <div class="map_list">${c}</div>`,$(".local .map_info").html(d),$(".map_info >p:nth-of-type(1)").css("background",u[l]),$(".map >svg >g>g").eq(f).addClass("active"),$(".map_info > p:nth-of-type(1)").on("click",(function(e){window.matchMedia("(max-width: 1023px)").matches&&(e.preventDefault(),$(".local_select").addClass("active"))}))}$(".local_select").append(r),$(".local_select li").on("click",(function(e){e.preventDefault(),c="",s=$(this).index(),p(s),$(".local_select").removeClass("active")}))},error:function(e){console.log(e.status),console.log(e.error),console.log(e.responseText)}}),$.ajax({url:"./JS/data_slide.xml",success:function(e){const t=document.querySelector(".slider");let i,n,a,o="";$(e).find("card").each((function(e){a=$(this).find("name").text(),i=$(this).find("address").text(),n=$(this).find("photo").text(),o+=`<li><a href="${i}"><img src="${n}" alt="${a}"></a></li>`})),t.innerHTML=o,$(".sns .sns_slide ul").slick({arrows:!0,dots:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3,responsive:[{breakpoint:1279,settings:{arrows:!0,dots:!1,infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3}},{breakpoint:1024,settings:{arrows:!0,dots:!1,infinite:!0,slidesToShow:2,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3}},{breakpoint:768,settings:{arrows:!0,dots:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3}}]})},error:function(e){console.log(e.status),console.log(e.error),console.log(e.responseText)}})}));